(this.webpackJsonpmernapp=this.webpackJsonpmernapp||[]).push([[0],{37:function(e,t,n){e.exports=n(73)},42:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),o=(n(42),n(5)),u=n(6),l=n(7),s=n(8),m=n(12),p=n(14),d=n(10),h=n.n(d),f=(n(64),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).logout=function(){h.a.post("/api/logout",{}).then((function(t){alert(t.data.message),e.props.history.go()})).catch((function(e){return console.log("Logout Axios Error-------",e)}))},e.login=function(){var e=encodeURIComponent("".concat(window.location.origin,"/auth/callback"));window.location="https://".concat("bg00.auth0.com/","/login?client=").concat("OPb4Bu6HugjpOlhs7Cs93rxh0k3Saqo42","&scope=openid%20profile%20email&redirect_uri=").concat(e)},e}return Object(u.a)(n,[{key:"linkFunc",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return console.log(this.props.user),r.a.createElement("div",{className:"nav container"},r.a.createElement("div",{className:"desktop-nav"},r.a.createElement("p",{className:"nav-link",onClick:function(){return e.linkFunc("/")}},"Home"),r.a.createElement("p",{className:"nav-link",onClick:function(){return e.linkFunc("/about")}},"About"),r.a.createElement("p",{className:"nav-link",onClick:function(){return e.linkFunc("/cart")}},"Cart"),r.a.createElement("div",{className:"nav-link",onClick:function(){return e.props.user?e.logout():e.login()}},this.props.user?r.a.createElement("div",null,r.a.createElement("p",null,"Logout"),r.a.createElement("img",{className:"user-image",src:this.props.user.profile_picture,alt:this.props.user.nickname})):r.a.createElement("p",null,"Login"))))}}]),n}(a.Component)),v=Object(m.f)(Object(p.b)((function(e){return{user:e.user}}))(f)),g=(n(66),function(e){var t=e.name,n=e.price;return r.a.createElement("div",{className:"product-card container"},r.a.createElement("div",null,r.a.createElement("p",{className:"product-card label"},t),r.a.createElement("p",{className:"product-card label"},"$",n)))}),E=(n(67),function(e){return r.a.createElement("div",{className:"loader-div"},r.a.createElement("h3",null,"Loading......"))}),b=(n(68),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={products:[],loading:!0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/products").then((function(t){console.log("res.data products-----------",t.data),console.log(t.headers),e.setState({products:t.data,loading:!1})})).catch((function(e){return console.log("Read all products Error-------",e)}))}},{key:"render",value:function(){var e=this.state,t=e.products;return e.loading?r.a.createElement(E,null):r.a.createElement("div",{className:"home container"},r.a.createElement("div",{className:"home-products container"},t.length?t.map((function(e){return r.a.createElement(g,Object.assign({key:e.id},e))})):null))}}]),n}(a.Component)),O=(n(69),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"about container"},r.a.createElement("div",{className:"about-info container"},r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ut justo in mauris lobortis bibendum nec nec tellus. Morbi est ipsum, pretium nec est vel, maximus congue metus. Proin eu euismod turpis, eget ornare nunc. Suspendisse id aliquet justo, eget ornare ligula. Nunc eu pretium nisi, vel maximus leo. Ut tempus risus quis ultricies dictum. Donec at mauris justo. Vestibulum ut lorem vitae tellus facilisis volutpat vitae quis purus. Suspendisse lobortis fermentum placerat."),r.a.createElement("p",null,"Nam efficitur dui et urna ullamcorper rhoncus. Proin porta aliquet ipsum, ac volutpat diam auctor eu. Ut tristique odio ligula, ut aliquam ex consequat rutrum. In vel magna a velit rhoncus ornare. Phasellus arcu felis, consectetur non nunc nec, finibus rutrum libero. Nulla consequat lorem et felis semper, ut tempus orci lacinia. Sed molestie mi sodales lacinia scelerisque. Pellentesque tellus augue, molestie non sagittis sed, eleifend ac eros. Vivamus tortor quam, viverra sit amet libero a, dignissim auctor odio. In erat nulla, molestie a urna eu, porttitor euismod felis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ipsum sapien, fermentum sit amet eleifend eget, consequat a lacus. Sed nulla odio, laoreet ut dictum sit amet, ornare quis augue. Nam blandit et metus ut vestibulum. Maecenas bibendum diam laoreet urna sollicitudin, in pellentesque diam condimentum.")))}}]),n}(a.Component)),j=(n(70),[{name:"Test 1",description:"Test Product 1",price:20,id:1},{name:"Test 2",description:"Test Product 2",price:10,id:2},{name:"Test 3",description:"Test Product 3",price:30,id:3}]),y=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"cart container"},r.a.createElement("div",{className:"cart-info container"},r.a.createElement("h2",null,"Your Cart!"),r.a.createElement("div",null,j.map((function(e){return r.a.createElement(g,Object.assign({key:e.id},e))})))))}}]),n}(a.Component),N=(n(71),function(e){var t=e.handleName,n=e.handleDescription,a=e.handlePrice,i=e.handlePictureUpload,c=e.name,o=e.description,u=e.price,l=e.picture;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("img",{src:l,alt:c}),r.a.createElement("input",{type:"file",onChange:function(e){return i(e.target.files)},value:l}),r.a.createElement("input",{type:"text",onChange:function(e){return t(e.target.value)},value:c}),r.a.createElement("input",{type:"text",onChange:function(e){return n(e.target.value)},value:o}),r.a.createElement("input",{type:"text",onChange:function(e){return a(e.target.value)},value:u})))}),k=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleName=function(t){e.setState({name:t})},e.handleDesciption=function(t){e.setState({description:t})},e.handlePrice=function(t){e.setState({price:t})},e.handlePictureUpload=function(e){console.log("files----------",e[0]);var t=new FormData;h.a.get("/api/upload").then((function(n){for(var a in t.append("signature",n.data.payload.signature),t.append("api_key","cloudinary://422977492139675:U2eAWowmERpqsWmuIG6jrm73DJA@bg00"),t.append("timestamp",n.data.payload.timestamp),t.append("file",e[0]),t.entries())console.log("key----------",a);h.a.post("https://api.cloudinary.com/v1_1/bg00/image/upload",t).then((function(e){console.log(e)})).catch((function(e){return console.log("Error posting to cloudinary database",e)}))})).catch((function(e){return console.log("Get credentials Error---------",e)}))},e.createProduct=function(){var t=e.state,n=t.name,a=t.price,r=t.description,i=t.picture;t.doCreate&&n&&a&&r&&i?h.a.post("/api/products",{name:n,price:a,description:r,picture:i}).then((function(e){console.log(e.data.product)})).catch((function(e){return console.log("Create Products Error-------------",e)})):e.setState({doCreate:!e.state.doCreate})},e.state={name:"",description:"",price:"",picture:"",doCreate:!1},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.picture,a=t.description,i=t.name,c=t.price;return r.a.createElement("div",{className:"admin container"},r.a.createElement("h2",null,"Admin"),r.a.createElement("button",{onClick:function(){return e.createProduct()}},"Create Product"),r.a.createElement(N,Object.assign({create:this.createProduct,handleName:this.handleName,handleDesciption:this.handleDesciption,handlePrice:this.handlePrice,handlePictureUpload:this.handlePictureUpload},this.state)),r.a.createElement("form",null,r.a.createElement("img",{src:n,alt:i}),r.a.createElement("input",{type:"file",onChange:function(t){return e.handlePictureUpload(t.target.files)},value:n}),r.a.createElement("input",{type:"text",onChange:function(t){return e.handleName(t.target.value)},value:i}),r.a.createElement("input",{type:"text",onChange:function(t){return e.handleDescription(t.target.value)},value:a}),r.a.createElement("input",{type:"text",onChange:function(t){return e.handlePrice(t.target.value)},value:c})))}}]),n}(a.Component),C=r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:b}),r.a.createElement(m.a,{path:"/about",component:O}),r.a.createElement(m.a,{path:"/cart",component:y}),r.a.createElement(m.a,{path:"/admin",component:k})),P=n(24),q={user:null},_=(n(72),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/user-data").then((function(t){var n=e.props.dispatch;t.data.user?n({type:"LOGIN",payload:t.data.user}):n({type:"LOGOUT"})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),C)}}]),n}(a.Component)),D=Object(m.f)(Object(p.b)()(_)),w=n(15),S=n(19),x=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(P.a)({},e,{user:t.payload});case"LOGOUT":return Object(P.a)({},e,{user:null});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(p.a,{store:x},r.a.createElement(w.a,null,r.a.createElement(D,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.a396c72a.chunk.js.map